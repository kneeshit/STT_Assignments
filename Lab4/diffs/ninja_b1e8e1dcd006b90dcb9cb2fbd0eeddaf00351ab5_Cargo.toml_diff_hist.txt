diff --git a/openai/Cargo.toml b/openai/Cargo.toml
index 9a8ddeb..6fe6d63 100644
--- a/openai/Cargo.toml
+++ b/openai/Cargo.toml
@@ -52,7 +52,7 @@ cbc = "0.1.2"
 axum = { version = "0.6.20", features = ["http2", "multipart", "headers"], optional = true }
 axum-extra ={ version = "0.8.0", features = ["cookie"], optional = true }
 axum-server = { version = "0.5.1", features = ["tls-rustls"], optional = true }
-tower-http = { version = "0.4.4", default-features = false, features = ["cors", "trace"], optional = true }
+tower-http = { version = "0.4.4", default-features = false, features = ["cors", "trace", "map-request-body", "util"], optional = true }
 tower = { version = "0.4.13", default-features = false, features = ["limit", "timeout"], optional = true}
 bytes = { version = "1.5.0", optional = true }
 time = { version =  "0.3.28", optional = true }
@@ -60,7 +60,8 @@ static-files = { version = "0.2.3", optional = true }
 tracing = { version = "0.1.37", optional = true }
 tracing-subscriber = { version = "0.3.17", features = ["env-filter"], optional = true }
 async-stream = { version = "0.3.5", optional = true }
-serde_with = "3.3.0"
+axum_csrf = { version = "0.7.2", features = ["layer"], optional = true }
+serde_urlencoded = { version = "0.7.1", optional = true }
 
 # mitm
 rcgen = { version = "0.10", features = ["x509-parser"], optional = true }
@@ -84,8 +85,8 @@ static-files = "0.2.3"
 [features]
 default = ["serve", "limit", "template", "preauth"]
 api = ["stream"]
+serve = ["dep:serde_urlencoded", "dep:axum_csrf", "stream", "dep:async-stream", "dep:tracing", "dep:tracing-subscriber", "dep:tower-http", "dep:tower", "dep:bytes", "dep:time", "dep:axum-server", "dep:axum-extra", "dep:axum", "dep:static-files", "dep:futures-core", "dep:tera"]
 preauth = ["dep:rustls-pemfile", "dep:rcgen", "dep:moka", "dep:hyper", "dep:tokio-rustls", "dep:rustls", "dep:wildmatch", "dep:http", "dep:pin-project", "dep:byteorder"]
-serve = ["stream", "dep:async-stream", "dep:tracing", "dep:tracing-subscriber", "dep:tower-http", "dep:tower", "dep:bytes", "dep:time", "dep:axum-server", "dep:axum-extra", "dep:axum", "dep:static-files", "dep:futures-core", "dep:tera"]
 stream = ["dep:tokio-util", "dep:futures", "dep:tokio-stream", "dep:eventsource-stream", "dep:futures-core", "dep:pin-project-lite", "dep:nom", "dep:mime", "dep:futures-timer"]
 remote-token = []
 limit = ["dep:redis", "dep:redis-macros", "dep:moka"]
