diff --git a/butterknife-compiler/src/test/java/butterknife/UnbinderTest.java b/butterknife-compiler/src/test/java/butterknife/UnbinderTest.java
index a3d2c4f..93e3af5 100644
--- a/butterknife-compiler/src/test/java/butterknife/UnbinderTest.java
+++ b/butterknife-compiler/src/test/java/butterknife/UnbinderTest.java
@@ -658,12 +658,11 @@ public class UnbinderTest {
         + "// Generated code from Butter Knife. Do not modify!\n"
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.CallSuper;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
         + "import butterknife.Unbinder;\n"
-        + "import butterknife.internal.Utils;\n"
         + "import java.lang.Deprecated;\n"
         + "import java.lang.IllegalStateException;\n"
         + "import java.lang.Override;\n"
@@ -681,9 +680,7 @@ public class UnbinderTest {
         + "  @UiThread\n"
         + "  public A_ViewBinding(T target, Context context) {\n"
         + "    this.target = target;\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.blackColor = Utils.getColor(res, theme, android.R.color.black);\n"
+        + "    target.blackColor = ContextCompat.getColor(context, android.R.color.black);\n"
         + "  }\n"
         + "  @Override\n"
         + "  @CallSuper\n"
@@ -698,10 +695,9 @@ public class UnbinderTest {
         + "// Generated code from Butter Knife. Do not modify!\n"
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
-        + "import butterknife.internal.Utils;\n"
         + "import java.lang.Deprecated;\n"
         + "public class B_ViewBinding<T extends B> extends A_ViewBinding<T> {\n"
         + "  /**\n"
@@ -716,9 +712,7 @@ public class UnbinderTest {
         + "  @UiThread\n"
         + "  public B_ViewBinding(T target, Context context) {\n"
         + "    super(target, context);\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.whiteColor = Utils.getColor(res, theme, android.R.color.white);\n"
+        + "    target.whiteColor = ContextCompat.getColor(context, android.R.color.white);\n"
         + "  }\n"
         + "}"
     );
@@ -727,8 +721,8 @@ public class UnbinderTest {
         + "// Generated code from Butter Knife. Do not modify!\n"
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
         + "import butterknife.internal.Utils;\n"
         + "import java.lang.Override;\n"
@@ -738,9 +732,7 @@ public class UnbinderTest {
         + "    super(target, source.getContext());\n"
         + "    target.button1 = Utils.findRequiredView(source, android.R.id.button1, \"field 'button1'\");\n"
         + "    Context context = source.getContext();\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.transparentColor = Utils.getColor(res, theme, android.R.color.transparent);\n"
+        + "    target.transparentColor = ContextCompat.getColor(context, android.R.color.transparent);\n"
         + "  }\n"
         + "  @Override\n"
         + "  public void unbind() {\n"
@@ -754,18 +746,15 @@ public class UnbinderTest {
     JavaFileObject bindingDSource = JavaFileObjects.forSourceString("test/D_ViewBinding", ""
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
-        + "import butterknife.internal.Utils;\n"
         + "public class D_ViewBinding<T extends D> extends C_ViewBinding<T> {\n"
         + "  @UiThread\n"
         + "  public D_ViewBinding(T target, View source) {\n"
         + "    super(target, source);\n"
         + "    Context context = source.getContext();\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.grayColor = Utils.getColor(res, theme, android.R.color.darker_gray);\n"
+        + "    target.grayColor = ContextCompat.getColor(context, android.R.color.darker_gray);\n"
         + "  }\n"
         + "}"
     );
@@ -773,18 +762,15 @@ public class UnbinderTest {
     JavaFileObject bindingESource = JavaFileObjects.forSourceString("test/E_ViewBinding", ""
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
-        + "import butterknife.internal.Utils;\n"
         + "public class E_ViewBinding<T extends E> extends C_ViewBinding<T> {\n"
         + "  @UiThread\n"
         + "  public E_ViewBinding(T target, View source) {\n"
         + "    super(target, source);\n"
         + "    Context context = source.getContext();\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.backgroundDarkColor = Utils.getColor(res, theme, android.R.color.background_dark);\n"
+        + "    target.backgroundDarkColor = ContextCompat.getColor(context, android.R.color.background_dark);\n"
         + "  }\n"
         + "}"
     );
@@ -792,18 +778,15 @@ public class UnbinderTest {
     JavaFileObject bindingFSource = JavaFileObjects.forSourceString("test/F_ViewBinding", ""
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
-        + "import butterknife.internal.Utils;\n"
         + "public class F_ViewBinding<T extends F> extends D_ViewBinding<T> {\n"
         + "  @UiThread\n"
         + "  public F_ViewBinding(T target, View source) {\n"
         + "    super(target, source);\n"
         + "    Context context = source.getContext();\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.backgroundLightColor = Utils.getColor(res, theme, android.R.color.background_light);\n"
+        + "    target.backgroundLightColor = ContextCompat.getColor(context, android.R.color.background_light);\n"
         + "  }\n"
         + "}"
     );
@@ -811,8 +794,8 @@ public class UnbinderTest {
     JavaFileObject bindingGSource = JavaFileObjects.forSourceString("test/G_ViewBinding", ""
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
         + "import butterknife.internal.DebouncingOnClickListener;\n"
         + "import butterknife.internal.Utils;\n"
@@ -833,9 +816,7 @@ public class UnbinderTest {
         + "      }\n"
         + "    });\n"
         + "    Context context = source.getContext();\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.grayColor = Utils.getColor(res, theme, android.R.color.darker_gray);\n"
+        + "    target.grayColor = ContextCompat.getColor(context, android.R.color.darker_gray);\n"
         + "  }\n"
         + "  @Override\n"
         + "  public void unbind() {\n"
@@ -851,8 +832,8 @@ public class UnbinderTest {
     JavaFileObject bindingHSource = JavaFileObjects.forSourceString("test/H_ViewBinding", ""
         + "package test;\n"
         + "import android.content.Context;\n"
-        + "import android.content.res.Resources;\n"
         + "import android.support.annotation.UiThread;\n"
+        + "import android.support.v4.content.ContextCompat;\n"
         + "import android.view.View;\n"
         + "import butterknife.internal.Utils;\n"
         + "import java.lang.Override;\n"
@@ -862,9 +843,7 @@ public class UnbinderTest {
         + "    super(target, source);\n"
         + "    target.button3 = Utils.findRequiredView(source, android.R.id.button3, \"field 'button3'\");\n"
         + "    Context context = source.getContext();\n"
-        + "    Resources res = context.getResources();\n"
-        + "    Resources.Theme theme = context.getTheme();\n"
-        + "    target.grayColor = Utils.getColor(res, theme, android.R.color.primary_text_dark);\n"
+        + "    target.grayColor = ContextCompat.getColor(context, android.R.color.primary_text_dark);\n"
         + "  }\n"
         + "  @Override\n"
         + "  public void unbind() {\n"
