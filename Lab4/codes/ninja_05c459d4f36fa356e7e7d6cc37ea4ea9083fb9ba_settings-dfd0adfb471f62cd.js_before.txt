(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{84540:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return n(10990)}])},43267:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var s=n(39324),r=n(4337),a=n(35250),i=n(6038),o=n(52696),l=n(80479),c=n(15329),u=n(1821),d=n(82277),f=n(13090),g=n(32877),p=n(78931),m=n(16266),v=n(77311),x=n(19841),h=n(60554),k=n(70079),b=n(1454),j=n(32004),w=n(94968);function N(){var e=(0,r._)(["max-w-5xl mx-auto w-full"]);return N=function(){return e},e}function y(e){var t=e.route,n=e.children,s=(0,h.useRouter)();return(0,a.jsx)(c.ZB,{$as:"button",className:(0,x.default)("rounded",s.route!==t&&"hover:bg-token-surface-secondary dark:hover:bg-gray-800"),onClick:function(){s.push(t)},children:n})}function M(e){var t=e.workspaceName,n=e.hasAdminPrivileges,r=e.hasOwnerPrivileges,o=(0,p.hz)(),l=(0,h.useRouter)(),c=(0,k.useCallback)(function(){l.push("/")},[l]);return(0,a.jsxs)("nav",{className:"p-2",children:[(0,a.jsxs)("div",{className:"mb-1 flex flex-row gap-2",children:[(0,a.jsxs)(f.MP,{onClick:c,children:[(0,a.jsx)(b.Ao2,{className:"icon-sm"}),(0,a.jsx)(j.Z,(0,s._)({},_.backToChat))]}),(0,a.jsx)(f.H,{})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,a.jsxs)("div",{className:"my-2 flex flex-col gap-2 px-2",children:[(0,a.jsx)(i.B0,{size:"large"}),(0,a.jsx)("h2",{className:"text-lg text-token-text-primary dark:text-white",children:t})]}),(0,a.jsxs)(y,{route:"/admin",children:[(0,a.jsx)(m.Z,{className:"icon-sm"}),(0,a.jsx)(j.Z,(0,s._)({},_.membersPageTitle))]}),n&&(0,a.jsxs)(y,{route:"/admin/analytics",children:[(0,a.jsx)(b.orK,{className:"icon-sm"}),(0,a.jsx)(j.Z,(0,s._)({},_.analytics))]}),r&&(0,a.jsxs)(y,{route:"/admin/billing",children:[(0,a.jsx)(b.XiQ,{className:"icon-sm"}),(0,a.jsx)(j.Z,(0,s._)({},_.billing))]}),r&&o.has(g.L0.WorkspaceAdminSettings)&&(0,a.jsxs)(y,{route:"/admin/settings",children:[(0,a.jsx)(b.nbt,{className:"icon-sm"}),(0,a.jsx)(j.Z,(0,s._)({},_.settings))]}),r&&(0,a.jsxs)(y,{route:"/admin/identity",children:[(0,a.jsx)(v.Z,{className:"icon-sm"}),(0,a.jsx)(j.Z,(0,s._)({},_.identity))]})]})]})}function P(e){var t=e.mobilePageTitle,n=e.requireAdminPrivileges,r=void 0!==n&&n,i=e.children,c=(0,p.ec)(function(e){return e.currentWorkspace}),f=(0,p.$T)(),g=(0,o.Ix)(c),m=(0,h.useRouter)(),v=null!=c?(0,l.$v)(c.role):void 0,x=null!=c?(0,l.Di)(c.role):void 0;return(0,k.useEffect)(function(){r&&!1===v&&m.push("/admin")},[r,v,m]),(0,a.jsx)(d.Z,{showNavigation:!0,renderTitle:t,renderSidebar:(0,a.jsx)(M,{workspaceName:f?"":g,hasAdminPrivileges:v,hasOwnerPrivileges:x}),children:(0,a.jsxs)(T,{children:[f&&(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)(u.Z,{})}),!f&&!c&&(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)(j.Z,(0,s._)({},_.workspaceNotFound))}),!f&&c&&i]})})}var T=n(21389).Z.div(N()),_=(0,w.vU)({workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found",description:"The title of the admin page."},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat",description:"Navigation button to return to main chat page"},membersPageTitle:{id:"adminPage.membersPageTitle",defaultMessage:"Members",description:"The title of the members page"},analytics:{id:"adminPage.analytics",defaultMessage:"Analytics",description:"Analytics sidebar item"},billing:{id:"adminPage.billing",defaultMessage:"Billing Info",description:"Billing sidebar item"},settings:{id:"adminPage.Settings",defaultMessage:"Settings",description:"Settings sidebar item"},identity:{id:"adminPage.identity",defaultMessage:"Identity & Provisioning",description:"Identity sidebar item"}})},10990:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return L},default:function(){return O}});var s=n(39324),r=n(35250),a=n(21722),i=n(71209),o=n(22830),l=n(4337),c=n(38104),u=n(75641),d=n(95137),f=n(32877),g=n(78931),p=n(5268),m=n(13995),v=n(74686),x=n(73413),h=n.n(x),k=n(70671),b=n(32004),j=n(94968),w=n(21389),N=n(12346),y=n(1821),M=n(88798);function P(){var e=(0,l._)(["border-t border-gray-100 dark:border-gray-700 py-6"]);return P=function(){return e},e}function T(){var e=(0,l._)(["mt-2 text-xs text-token-text-tertiary"]);return T=function(){return e},e}function _(e){return S.apply(this,arguments)}function S(){return(S=(0,a._)(function(e){var t,n;return(0,c.Jh)(this,function(s){return(t=(0,o._)(e.queryKey,2))[0],n=t[1].workspaceId,[2,d.ZP.getWorkspaceSettings(n)]})})).apply(this,arguments)}function I(e){var t,n=e.workspaceId,s=e.label,a=e.description,i=e.feature,o=e.enabled,l=(0,k.Z)(),c=(0,m.NL)(),u=(0,v.D)({mutationFn:function(e){var t=e.feature,s=e.enabled;return d.ZP.setWorkspaceBetaFeature(n,t,s)},onSettled:function(){c.invalidateQueries(["workspace-settings"])},onError:function(){M.m.danger(l.formatMessage(A.featureSettingsUpdateFailed))}}),f=u.variables,g=u.mutate;return(0,r.jsx)("div",{children:(0,r.jsx)(N.oC,{label:s,enabled:null!==(t=null==f?void 0:f.enabled)&&void 0!==t?t:o,onChange:function(e){g({feature:i,enabled:e})},description:a})})}function Z(e){var t,n=e.conversationTTL,a=(0,k.Z)();return t=null===n?a.formatMessage(A.retentionInfinite):7776e3===n?a.formatMessage(A.retentionNinetyDays):31536e3===n?a.formatMessage(A.retentionOneYear):a.formatMessage(A.retentionCustomDays,{num:Math.floor(n/86400)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)(b.Z,(0,s._)({},A.conversationRetention))}),(0,r.jsx)("div",{children:t})]}),(0,r.jsx)(E,{children:(0,r.jsx)(b.Z,(0,s._)({},A.retentionChange))})]})}function R(e){var t=e.workspaceId,n=e.data,a=(0,k.Z)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)(W,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(b.Z,(0,s._)({},A.featureSettingsTitle))}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:(0,r.jsx)(b.Z,(0,s._)({},A.featureSettingsIntro))})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(I,{workspaceId:t,label:(0,N.TP)(a),description:(0,N.Wu)(a),feature:u.tr.CODE_INTERPRETER,enabled:n.beta_settings[u.tr.CODE_INTERPRETER]}),(0,r.jsx)(I,{workspaceId:t,label:(0,N.l0)(a),description:(0,N.je)(a),feature:u.tr.BROWSING,enabled:n.beta_settings[u.tr.BROWSING]}),(0,r.jsx)(I,{workspaceId:t,label:(0,N.Dj)(a),description:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{children:(0,N.up)(a)}),(0,r.jsx)("div",{children:(0,r.jsx)(b.Z,(0,i._)((0,s._)({},A.pluginsWorkspaceDisclaimer),{values:{b:function(e){return(0,r.jsx)("strong",{children:e})}}}))})]}),feature:u.tr.PLUGINS,enabled:n.beta_settings[u.tr.PLUGINS]}),(0,r.jsx)(I,{workspaceId:t,label:(0,N.vW)(a),description:(0,N.ck)(a),feature:u.tr.VOICE,enabled:n.beta_settings[u.tr.VOICE]}),(0,r.jsx)(I,{workspaceId:t,label:a.formatMessage(A.dalleToggleLabel),description:a.formatMessage(A.dalleToggleDescription),feature:u.Nn.DALLE,enabled:n.beta_settings[u.Nn.DALLE]})]})]}),(0,r.jsx)(W,{children:(0,r.jsx)(Z,{conversationTTL:n.conversation_ttl})})]})}function C(e){var t=e.currentWorkspaceId,n=(0,k.Z)(),a=(0,p.a)(["workspace-settings",{workspaceId:t}],_).data;return(0,g.hz)().has(f.L0.WorkspaceAdminSettings)?(0,r.jsxs)("div",{className:"mx-auto max-w-lg px-4 py-8",children:[(0,r.jsx)(h(),{children:(0,r.jsx)("title",{children:n.formatMessage(A.title)})}),(0,r.jsx)("div",{className:"mb-6 text-2xl font-medium text-token-text-primary",children:(0,r.jsx)(b.Z,(0,s._)({},A.title))}),void 0!==a?(0,r.jsx)(R,{workspaceId:t,data:a}):(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsx)(y.Z,{})})]}):null}var W=w.Z.div(P()),E=w.Z.div(T()),A=(0,j.vU)({title:{id:"workspaceSettings.title",defaultMessage:"Settings",description:"Title of settings page"},featureSettingsTitle:{id:"workspaceSettings.featureSettingsTitle",defaultMessage:"Feature Toggles",description:"Title for workspace feature toggles"},featureSettingsIntro:{id:"workspaceSettings.featureSettingsIntro",defaultMessage:"Toggle access to new features in your workspace.",description:"Introduction for the workspace feature settings"},featureSettingsUpdateFailed:{id:"workspaceSettings.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting",description:"Message shown when there's an error updating feature settings"},conversationRetention:{id:"workspaceSettings.conversationRetention",defaultMessage:"Conversation retention",description:"Conversation retention setting label"},retentionInfinite:{id:"workspaceSettings.retentionInfinite",defaultMessage:"Infinite",description:"Conversation retention value"},retentionNinetyDays:{id:"workspaceSettings.retentionNinetyDays",defaultMessage:"90 days",description:"Conversation retention value"},retentionOneYear:{id:"workspaceSettings.retentionOneYear",defaultMessage:"1 year",description:"Conversation retention value"},retentionCustomDays:{id:"workspaceSettings.retentionCustomDays",defaultMessage:"{num} days",description:"Conversation retention value"},retentionChange:{id:"workspaceSettings.retentionChange",defaultMessage:"Please contact your account manager to change this setting.",description:"Text underneath conversation retention setting"},pluginsWorkspaceDisclaimer:{id:"workspaceSettings.pluginsWorkspaceDisclaimer",defaultMessage:"<b>Plugins allow ChatGPT to connect to third-party services that are not subject to our terms or privacy commitments.</b> By enabling plugins in your workspace, you are allowing ChatGPT to send user data (e.g. content, conversations, and location info) to plugin developers. If enabled, your workspace members can access our full plugin catalog, including unverified plugins.",description:"Additional disclaimer text for workspace plugins"},dalleToggleLabel:{id:"workspaceSettings.dalleToggleLabel",defaultMessage:"DALL\xb7E 3",description:"Label for the toggle that enables DALLE-3"},dalleToggleDescription:{id:"workspaceSettings.dalleToggleDescription",defaultMessage:"Try a version of ChatGPT that creates images based on natural language requests.",description:"Description for the toggle that enables DALLE-3"}}),D=n(43267),L=!0;function O(e){return(0,r.jsx)(C,(0,s._)({},e))}O.getLayout=function(e){return(0,r.jsx)(D.default,{mobilePageTitle:"Settings",requireAdminPrivileges:!0,children:e})}},52696:function(e,t,n){"use strict";n.d(t,{$3:function(){return f},Ap:function(){return c},CV:function(){return g},GA:function(){return d},Gk:function(){return x},Ix:function(){return m},_O:function(){return v},bE:function(){return h},cI:function(){return p},qH:function(){return u}});var s=n(96237),r=n(75641),a=n(78931),i=n(62509),o=n(70079),l=n(70671);function c(){var e=(0,l.Z)(),t=e.formatMessage(k.adminRoleName),n=e.formatMessage(k.ownerRoleName),a=e.formatMessage(k.standardRoleName);return(0,o.useMemo)(function(){var e;return e={},(0,s._)(e,r.r3.OWNER,n),(0,s._)(e,r.r3.ADMIN,t),(0,s._)(e,r.r3.STANDARD,a),e},[n,t,a])}function u(e){var t=(0,l.Z)();return e?e.structure===r.CZ.PERSONAL?t.formatMessage(k.personalPlanName):t.formatMessage(k.enterprisePlanName):t.formatMessage(k.personalPlanName)}function d(e){return g((0,l.Z)(),e)}function f(){var e=(0,a.ec)(function(e){return e.currentWorkspace});return g((0,l.Z)(),e)}function g(e,t){var n;return t&&t.structure!==r.CZ.PERSONAL?null!==(n=t.name)&&void 0!==n?n:e.formatMessage(k.defaultWorkspaceTitle):e.formatMessage(k.personalWorkspaceTitle)}function p(){var e,t,n,s,r=(0,i.kP)().session;return null!==(s=null!==(n=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.name)&&void 0!==n?n:null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.email)&&void 0!==s?s:null}function m(e){var t=(0,a.ec)(function(e){return e.currentWorkspace}),n=(0,a.ec)(a.F_.isPersonalWorkspace),s=(0,a.$T)(),i=d(t),o=p();return e&&!s?e.structure===r.CZ.PERSONAL?o:e.name:t?n?o:i:o}function v(){return(0,a.ec)(function(e){return e.workspaces})}function x(e){var t=v().find(function(t){return t.id===e});return(null==t?void 0:t.role)===r.r3.OWNER}function h(e){var t=v().find(function(t){return t.id===e});return(null==t?void 0:t.role)===r.r3.ADMIN}var k=(0,n(94968).vU)({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace",description:"title for workspace without a name"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account",description:"title for personal workspace"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal",description:"label for personal tier account"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise",description:"label for enterprise tier account"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin",description:"Role name for an admin user"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner",description:"Role name for an owner user"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member",description:"Role name for a standard user"}})},16266:function(e,t,n){"use strict";var s=n(70079);let r=s.forwardRef(function({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"}))});t.Z=r}},function(e){e.O(0,[2104,2277,9774,2888,179],function(){return e(e.s=84540)}),_N_E=e.O()}]);