(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{71791:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/AdminPageLayout",function(){return r(43267)}])},43267:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return _}});var a=r(39324),s=r(4337),i=r(35250),t=r(6038),o=r(52696),l=r(80479),u=r(15329),c=r(1821),d=r(82277),m=r(13090),f=r(32877),p=r(78931),g=r(16266),v=r(77311),x=r(19841),h=r(60554),N=r(70079),k=r(1454),j=r(32004),P=r(94968);function b(){var e=(0,s._)(["max-w-5xl mx-auto w-full"]);return b=function(){return e},e}function w(e){var n=e.route,r=e.children,a=(0,h.useRouter)();return(0,i.jsx)(u.ZB,{$as:"button",className:(0,x.default)("rounded",a.route!==n&&"hover:bg-token-surface-secondary dark:hover:bg-gray-800"),onClick:function(){a.push(n)},children:r})}function M(e){var n=e.workspaceName,r=e.hasAdminPrivileges,s=e.hasOwnerPrivileges,o=(0,p.hz)(),l=(0,h.useRouter)(),u=(0,N.useCallback)(function(){l.push("/")},[l]);return(0,i.jsxs)("nav",{className:"p-2",children:[(0,i.jsxs)("div",{className:"mb-1 flex flex-row gap-2",children:[(0,i.jsxs)(m.MP,{onClick:u,children:[(0,i.jsx)(k.Ao2,{className:"icon-sm"}),(0,i.jsx)(j.Z,(0,a._)({},A.backToChat))]}),(0,i.jsx)(m.H,{})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,i.jsxs)("div",{className:"my-2 flex flex-col gap-2 px-2",children:[(0,i.jsx)(t.B0,{size:"large"}),(0,i.jsx)("h2",{className:"text-lg text-token-text-primary dark:text-white",children:n})]}),(0,i.jsxs)(w,{route:"/admin",children:[(0,i.jsx)(g.Z,{className:"icon-sm"}),(0,i.jsx)(j.Z,(0,a._)({},A.membersPageTitle))]}),r&&(0,i.jsxs)(w,{route:"/admin/analytics",children:[(0,i.jsx)(k.orK,{className:"icon-sm"}),(0,i.jsx)(j.Z,(0,a._)({},A.analytics))]}),s&&(0,i.jsxs)(w,{route:"/admin/billing",children:[(0,i.jsx)(k.XiQ,{className:"icon-sm"}),(0,i.jsx)(j.Z,(0,a._)({},A.billing))]}),s&&o.has(f.L0.WorkspaceAdminSettings)&&(0,i.jsxs)(w,{route:"/admin/settings",children:[(0,i.jsx)(k.nbt,{className:"icon-sm"}),(0,i.jsx)(j.Z,(0,a._)({},A.settings))]}),s&&(0,i.jsxs)(w,{route:"/admin/identity",children:[(0,i.jsx)(v.Z,{className:"icon-sm"}),(0,i.jsx)(j.Z,(0,a._)({},A.identity))]})]})]})}function _(e){var n=e.mobilePageTitle,r=e.requireAdminPrivileges,s=void 0!==r&&r,t=e.children,u=(0,p.ec)(function(e){return e.currentWorkspace}),m=(0,p.$T)(),f=(0,o.Ix)(u),g=(0,h.useRouter)(),v=null!=u?(0,l.$v)(u.role):void 0,x=null!=u?(0,l.Di)(u.role):void 0;return(0,N.useEffect)(function(){s&&!1===v&&g.push("/admin")},[s,v,g]),(0,i.jsx)(d.Z,{showNavigation:!0,renderTitle:n,renderSidebar:(0,i.jsx)(M,{workspaceName:m?"":f,hasAdminPrivileges:v,hasOwnerPrivileges:x}),children:(0,i.jsxs)(R,{children:[m&&(0,i.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,i.jsx)(c.Z,{})}),!m&&!u&&(0,i.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,i.jsx)(j.Z,(0,a._)({},A.workspaceNotFound))}),!m&&u&&t]})})}var R=r(21389).Z.div(b()),A=(0,P.vU)({workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found",description:"The title of the admin page."},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat",description:"Navigation button to return to main chat page"},membersPageTitle:{id:"adminPage.membersPageTitle",defaultMessage:"Members",description:"The title of the members page"},analytics:{id:"adminPage.analytics",defaultMessage:"Analytics",description:"Analytics sidebar item"},billing:{id:"adminPage.billing",defaultMessage:"Billing Info",description:"Billing sidebar item"},settings:{id:"adminPage.Settings",defaultMessage:"Settings",description:"Settings sidebar item"},identity:{id:"adminPage.identity",defaultMessage:"Identity & Provisioning",description:"Identity sidebar item"}})},52696:function(e,n,r){"use strict";r.d(n,{$3:function(){return m},Ap:function(){return u},CV:function(){return f},GA:function(){return d},Gk:function(){return x},Ix:function(){return g},_O:function(){return v},bE:function(){return h},cI:function(){return p},qH:function(){return c}});var a=r(96237),s=r(75641),i=r(78931),t=r(62509),o=r(70079),l=r(70671);function u(){var e=(0,l.Z)(),n=e.formatMessage(N.adminRoleName),r=e.formatMessage(N.ownerRoleName),i=e.formatMessage(N.standardRoleName);return(0,o.useMemo)(function(){var e;return e={},(0,a._)(e,s.r3.OWNER,r),(0,a._)(e,s.r3.ADMIN,n),(0,a._)(e,s.r3.STANDARD,i),e},[r,n,i])}function c(e){var n=(0,l.Z)();return e?e.structure===s.CZ.PERSONAL?n.formatMessage(N.personalPlanName):n.formatMessage(N.enterprisePlanName):n.formatMessage(N.personalPlanName)}function d(e){return f((0,l.Z)(),e)}function m(){var e=(0,i.ec)(function(e){return e.currentWorkspace});return f((0,l.Z)(),e)}function f(e,n){var r;return n&&n.structure!==s.CZ.PERSONAL?null!==(r=n.name)&&void 0!==r?r:e.formatMessage(N.defaultWorkspaceTitle):e.formatMessage(N.personalWorkspaceTitle)}function p(){var e,n,r,a,s=(0,t.kP)().session;return null!==(a=null!==(r=null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.name)&&void 0!==r?r:null==s?void 0:null===(n=s.user)||void 0===n?void 0:n.email)&&void 0!==a?a:null}function g(e){var n=(0,i.ec)(function(e){return e.currentWorkspace}),r=(0,i.ec)(i.F_.isPersonalWorkspace),a=(0,i.$T)(),t=d(n),o=p();return e&&!a?e.structure===s.CZ.PERSONAL?o:e.name:n?r?o:t:o}function v(){return(0,i.ec)(function(e){return e.workspaces})}function x(e){var n=v().find(function(n){return n.id===e});return(null==n?void 0:n.role)===s.r3.OWNER}function h(e){var n=v().find(function(n){return n.id===e});return(null==n?void 0:n.role)===s.r3.ADMIN}var N=(0,r(94968).vU)({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace",description:"title for workspace without a name"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account",description:"title for personal workspace"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal",description:"label for personal tier account"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise",description:"label for enterprise tier account"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin",description:"Role name for an admin user"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner",description:"Role name for an owner user"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member",description:"Role name for a standard user"}})},16266:function(e,n,r){"use strict";var a=r(70079);let s=a.forwardRef(function({title:e,titleId:n,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},r),e?a.createElement("title",{id:n},e):null,a.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"}))});n.Z=s}},function(e){e.O(0,[2104,2277,9774,2888,179],function(){return e(e.s=71791)}),_N_E=e.O()}]);